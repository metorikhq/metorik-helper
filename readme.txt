=== Metorik - Reports & Email Automation for WooCommerce ===
Contributors: bryceadams, jkudish, metorik
Tags: woocommerce, woocommerce reports, woocommerce emails, woocommerce carts, woocommerce export
Requires at least: 5.0
Requires PHP: 7.4
Tested up to: 6.6.1
Stable tag: 2.0.0
License: MIT
License URI: https://opensource.org/licenses/MIT

The Metorik Helper helps provide your WooCommerce store with powerful analytics, reports, and tools.

== Description ==

> **Note:** This plugin is only really of use to you if you have a Metorik account/store. You can set one up for free and enjoy a 30 day trial, but keep in mind that it is a paid service. [**Try Metorik for free!**](https://metorik.com?ref=wporg)

In just a few clicks, Metorik gives your store a powerful real-time dashboard, unifying your store's orders, customers, and products, helping you understand your data and make more informed decisions every day.

= Blazing fast =

Tired of spending half your day waiting for WooCommerce reports to load? Metorik spins up detailed reports and charts faster than any other tool available. It also reduces the load on your site's admin dashboard since you can do everything from Metorik, as such making your site faster.

= Powerful and custom reporting =

Metorik includes [a ton of reports](https://metorik.com/features/reports?ref=wporg), covering everything from revenue to sales by state, customer stats and cart abandonment metrics. Every report can be exported, all charts can be downloaded as beautiful custom images, and you can forecast any report in a single click.

Better yet, every single report can be filtered, letting you build custom reports with zero code using our intuitive segmenting system.

= Every KPI you could ask for =

What's your average customer LTV (lifetime value)? What's your average numbers of items per order? How many of product A or variation B did you sell last month? If these are questions you've always wanted answers for, Metorik will be a lifesaver.

= Custom Dashboards =

With Metorik, you can build custom dashboards and reports. Include the metrics and KPIs you track, custom segments (more on that below), and share dashboards you create with your team.

Using our drag and drop builder, it's easy to build the reporting dashboard your business needs - no coding required.

= Segment everything by anything =

Metorik offers a robust & powerful [segmenting system](https://metorik.com/features/segmenting?ref=wporg). It allows you segment your data by anything and everything (seriously), export that segmented data to a CSV (automatically, if that's your thing). You can even save the filters you used for next time, or share them with your team.

Want all customers who have an LTV over $100 and own a certain product? **Easy.**

Orders that were made last month where 2 items were purchased and the customer was from the UK? **Easy.**

Subscriptions that were set to be canceled this week? **Easy.**

Customers who haven't ordered in 4 months and live in California? **Easy.**

= Send automated emails to customers =

With [Metorik Engage](https://metorik.com/features/engage?ref=wporg) and it's accompanying segmenting system, you can send targeted emails to customers automatically as soon as they match certain rules.

For example, email customers whenever they've spent over $500 and include a coupon code uniquely generated for them for 20% off.

Writing emails couldn't be easier with Engage's email builder and each automation comes with a comprehensive report so you can see which emails are converting and which ones are being ignored.

= Costs & profit reports =

Metorik includes a full featured [cost & profit reporting system](https://metorik.com/features/costs?ref=wporg), which lets you calculate product, shipping, transaction, advertising, and extra costs for each order.

If you're already using WooCommerce's cost of goods plugin, we'll automatically import product costs, or otherwise you can set and import costs into Metorik.

When it comes to shipping costs, you can calculate costs by weight, shipping charged, and more. For transaction costs, set % and $ costs, or automatically use the actual cost charged by Stripe, PayPal, etc.

And on the advertising costs side, Metorik automatically syncs ad costs from Google Ads, Facebook Ads, TikTok, and Pinterest.

= Cart tracking and reports =

[Metorik tracks every cart](https://metorik.com/features/carts?ref=wporg) started on your store, making it easy for you to see all open, abandoned, and placed carts. Also included is the Carts Report, covering all of your cart-related stats.

And better yet, through Metorik Engage, you can send automatic abandoned cart emails to try get customers to complete their purchase.

= Customer service integrations =

Metorik integrates with your existing support system to show customer data right alongside support tickets. Data like their contact information, lifetime value, order history, products purchased and more, instantly at you and your customer service teams' fingertips. Additionally, you'll find data from your support systems shown on order pages and customer profiles in Metorik.

Integrations are currently available for [Zendesk](https://metorik.com/blog/connecting-zendesk-and-woocommerce?ref=wporg), Help Scout, Freshdesk, and Intercom, with more to come.

= Google Analytics integration =

Connect your Google Analytics account to Metorik and get access to stats like conversion rates instantly. Better yet, you can get **historical conversion rates!** [Read more about it here](https://metorik.com/blog/conversation-rates-for-woocommerce-with-google-analytics?ref=wporg).

= Email + Slack reports =

Automatically receive reports summarising your store's activity as often as you'd like. They can be sent by both Email & Slack, and include your KPIs, charts, best sellers, and more.

= One-off and automated exports =

Any data can be exported from Metorik at any time in minutes. You can even schedule exports to happen automatically as often as you'd like.

*Bonus:* These exports have zero-impact on your site whatsoever. No more server downtime!

= WooCommerce Subscriptions support =

Metorik integrates seamlessly with [WooCommerce Subscriptions](https://metorik.com/features/subscriptions?ref=wporg), offering subscription filtering & exporting, along with reports like MRR, Churn, Retention, Forecasting, and more. You can even have an automated subscriptions report sent to you every day summarising everything subscriptions-related.

= Fast support =

Support is available to every Metorik user, whether you're just starting your trial or have used us for years. We'll personally work with you to ensure you and your team get the most out of Metorik. There's a reason why 5000+ stores and 1000s of customers trust us as their WooCommerce reporting solution - [view the love](https://metorik.com/love).

= Bring your team =

Whether you're running a store solo or bringing your team, Metorik has your back through its team system. Each store can have **unlimited team members** at no extra cost, each with their own role & permissions. No more sharing sales reports with your support reps and no more analytics modifying orders by accident.

= More? =

Oh, there's so much more. Seriously. Just have a look around the [Metorik website](https://metorik.com?ref=wporg) to get an idea of how valuable Metorik will be for your store.

---

The Metorik Helper helps [Metorik](https://metorik.com?ref=wporg) connect and work better with your site. Simply install, activate and Metorik will take care of the rest!

== Installation ==
Install, activate and leave it to do the rest.

Keep in mind that you do need a Metorik account for it to work with, so if you don't yet have a store set up in Metorik, head to [Metorik](https://metorik.com?ref=wporg) and sign up now.

== Frequently Asked Questions ==
**Do I need a Metorik account to use this plugin?**

Yes, you do ([sign up here](https://metorik.com?ref=wporg)). It will still work but will really not be of much use to you without one.

**Can I hide the Metorik links in my WordPress dashboard?**

If you truly want to (but why! They're so handy), you can. Simply add:

`
add_filter( 'metorik_show_ui', '__return_false' );
`

To your theme's `functions.php` or a custom plugin.

The other option is to simply 'dimiss' a Metorik notice and they will no longer appear.

To hide the links from individual orders/products, you can click the 'Screen Options' tab at the top of the page and uncheck the Metorik option.

**I accidentally hid the notices. How can I get them back?**

To get them back, go to http://yoursite.com/wp-admin?show-metorik-notices=yes while logged in as an administrator.

== Changelog ==
= 2.0.0 =
* We've overhauled the cart tracking feature in the Metorik Helper. The new method is faster and more reliable, making use of WooCommerce internal hooks instead of front-end javascript. This significantly improves the performance of the feature and improves compatibility with different checkout setups and third-party plugins.
 * We've added WooCommerce Blocks support for all features of the Metorik Helper plugin, including prompting to save a cart when adding an item to cart as well as during the checkout (via a new opt-in/opt-out checkbox), cart restoration and source tracking. To take full advantage of Woo Blocks support with Metorik, please make sure to upgrade to WooCommerce 9.1 or higher. Additionally, make sure to visit your Metorik dashboard's Cart Settings page to enable some new settings for WooCommerce blocks integration.
* Cart restoration will now restore the customer's first name and e-mail into the checkout flow when possible.
* We've made several improvements to the source tracking system. We've removed the reliance on hidden fields in the checkout process, which makes the system more performant and improves compatibility with different checkout setups and third-party plugins.
* We've added several action hooks and filters to allow for further customization of the Metorik Helper's behaviour.
* We've bundled in several other minor improvements around performance and reliability into the new version of the Metorik Helper.
* For a full breakdown of the changes please see the [Metorik Help Docs](https://help.metorik.com/article/243-metorik-helper-v2)

= 1.7.2 =
* Removed ability to enable cart tracking by admins through URL in admin (fixes a potential security issue where cart tracking could be disabled by an admin unintentionally).

= 1.7.1 =
* Allow providing a custom redirect URL when restoring a cart.
* Allow 'lang' query parameter through when restoring a cart and redirecting.

= 1.7.0 =
* Include user locale/language with carts.

= 1.6.3 =
* Filter for stopping Woo cart fragments change cart sending.
* Cart fragments JS fix for WooCommerce 7.8+ and some cart plugins.

= 1.6.2 =
* Further WooCommerce HPOS compatibility fixes.
* Filter for disabling source tracking.

= 1.6.1 =
* Fix for sending empty carts.

= 1.6.0 =
* WooCommerce HPOS compatibility for orders/subscriptions.
* Cart tracking improvements.
* Filter for disabling cart tracking.
* Remove old Metorik link notices from various reports.
* Subscription page 'view in Metorik' link.

= 1.5.2 =
* PHP 8 bug fix for cart recovery links.

= 1.5.1 =
* Added a filter 'metorik_send_cart_events', which can be used for changing which WooCommerce events trigger carts to be sent to Metorik.
* Fixed bug with Metorik's admin notice on users page and subscriptions page.

= 1.5.0 =
* Added a filter 'metorik_cart_items', which can be used to disable Metorik's cart items count code.
* Don't include auto-draft & checkout-draft orders in updated endpoints.
* Added a filter 'metorik_orders_updated_query', which can be used for modifying the 'orders/updated' API endpoint query.
* Send phone numbers with carts.

= 1.4.1 =
* Fix PHP notice with WP 5.5 and REST API changes.

= 1.4.0 =
* Improve cart tracking performance.
* Added a setting (to Metorik) for customising the checkout URL for cart recoveries.
* Bug fix to stop an error from occurring if no server object exists when we filter the WP API.

= 1.3.0 =
* Improvements to sending guest carts.

= 1.2.0 =
* Additional WooCommerce 3.6 fixes for coupon applying.

= 1.1.2 =
* Further WooCommerce 3.6 fixes for cart recovery links.
* Better i18n support.

= 1.1.1 =
* Fix coupon-applying through a URL parameter for empty carts.

= 1.1.0 =
* WooCommerce 3.6 API fix.
* Apply coupons provided through a certain URL parameter (Metorik Engage).
* Send and restore more cart data, like the shipping method, coupons, payment method.

= 1.0.5 =
* Don't override customer source on checkout.
* Change some Metorik URLs to customer/order/etc. pages.
* Add author to order note API responses (for v1 and v2 of the API).

= 1.0.4 =
* Fix bug when cart object not available and localizing Metorik's JS.
* Compiled and minified JS.
* Filter for changing the cart recovery final URL (by default it takes them to the checkout page).
* Close button for the add to cart email popup.
* Class to add to inputs for additional custom email input tracking (.metorik-capture-guest-email).

= 1.0.3 =
* Fix add to cart popup bug where it sometimes showed at the bottom of the page.
* Show add to cart popup on single product pages and the cart page (after items are added to the cart).

= 1.0.2 =
* Improve cart token setting for guests that log in or register during their session.

= 1.0.1 =
* Fix tracking of the Engage automation ID during a cart recovery.

= 1.0.0 =
* Cart tracking.
* Cart email popup capturing.
* Cart restoring.

= 0.15.0 =
* Add meta data to WooCommerce Subscriptions API endpoints.

= 0.14.3 =
* Fix Safari bug.

= 0.14.2 =
* Fix helper active check and version code.

= 0.14.1 =
* Fix empty source data being stored.

= 0.14.0 =
* PHP 7.2 WC API fix.
* Move customer source tracking to JS.
* Additional source tracking data like session count, page count, etc.
* Performance improvements for the orders API endpoint.

= 0.13.0 =
* Add support for recording UTM term, content, and ID.

= 0.12.0 =
* Multisite support for customers/updated endpoint.
* Added WooCommerce 3.2 required/tested plugin headers.
* Improve Woo customers API performance.

= 0.11.0 =
* Change method for stopping customer spend calculations in API so it just does it for Metorik API requests instead of on a time-basis by option.

= 0.10.0 =
* Track 'Engage' data
* Improve UTM tracking
* Set tracking data in user meta during checkout
* Added an 'hours' arg to updated endpoints
* Added pagination to updated endpoints
* Don't include draft orders in updated endpoints

= 0.9.0 =
* Coupon endpoints

= 0.8.1 =
* Extend source & UTM cookie storing time to 6 months

= 0.8.0 =
* Track UTM tags in order/customer meta
* Filter for referer

= 0.7.1 =
* Further updated timezone fixes

= 0.7.0 =
* Include order post meta data when pre WC 2.7
* Subscriptions endpoints
* Open Metorik links in new tabs
* Fix updated timezone issue

= 0.6.1 =
* Fix notices for unset http referer

= 0.6.0 =
* Track and store customer/order referer (source)
* Endpoint for possible order statuses
* Endpoint for possible customer (user) roles
* Ignore trashed orders/products in updated endpoints
* Allow dismissing/hiding of the Metorik notices
* PHP 5.2 compat fix

= 0.5.2 =
* Fix minor PHP notices in admin

= 0.5.1 =
* Fix undefined variable notice

= 0.5.0 =
* Remove custom customer index/single endpoints if 2.7
* Links from resource admin pages to Metorik

= 0.4.2 =
* Make activation method static

= 0.4.1 =
* Fix undefined variable in products updated endpoint

= 0.4.0 =
* Refund IDs endpoint

= 0.3.1 =
* Improve stability of customers updated endpoint

= 0.3.0 =
* New endpoints for orders updated
* New endpoints for customers updated
* New endpoints for products updated
* Fix customer IDs endpoint query for custom DB prefixes

= 0.2.3 =
* Show notice prompting users to go back to Metorik after installing to complete connection

= 0.2.2 =
* Fix customer IDs endpoint permissions

= 0.2.1 =
* Override WC single customer endpoint too to make faster during imports

= 0.2.0 =
* Override WC customers endpoint to make faster during imports

= 0.1.0 =
* Initial beta release.
